# C++ Core Guidelines [![C++ Core Guidelines](https://img.shields.io/badge/C++_Core_Guidelines-blue?logo=data:image/png;base64,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&labelColor=CED8F6&logoWidth=30&style=flat "C++ Core Guidelines")](https://github.com/isocpp/CppCoreGuidelines)

- [Per.19: Access memory predictably](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#per19-access-memory-predictably)

  关于临近内存访问性能的问题，官方给出的例子有待商榷，只能说此例在大多数情况下具有代表性和合理性，因为C++二维数组是行主续存储的，那么逐行遍历应该是性能最好的。

  早些年做Matlab开发时，也有一个核心原则，其大意是：如果有嵌套循环，则应该尽量把繁忙的循环放到内层。例如当一个二维数组的行数远大于列数时，这时逐列遍历程序会有更好的性能。
  
  如果从更底层的角度去思考或许可以这样解释：相对于内存访问，机器指令频繁跳转的消耗已经占了主导（_我并不会汇编语言，这里只是打个比方_）。
  
  经过测试（MSVC 2017开启/O2优化）这个原则同样适用于C++，按照Per.19中的示例，当二维数组为200000行、2列，此时按逐列遍历的性能是逐行遍历的1.5倍左右。

  那么对于这条原则**我的建议是**：官方示例具有一定的指导意义，但仍然需要特殊情况特殊对待。更好的一个解释可以参考[MODERNES C++](http://www.modernescpp.com/index.php/c-core-guidelines-the-remaining-rules-to-performance)这篇文章中对这条原则的分析，即用std::vector和std::deque做对比。🌄




- to do